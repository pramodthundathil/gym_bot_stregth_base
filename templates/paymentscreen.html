{% extends "index.html" %}
{% block content %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
<div class="main-panel">
    <div class="content-wrapper">

        <div class="page-header">
            <h3 class="page-title">Payment For {{member}} <a href="{%url 'Payments'%}">Back To Payments</a></h3>
            {% for message in messages %}

            <div class="alert {{message.tags}} alert-dismissible fade show" style="position:fixed;top:100px;z-index:1;"
                role="alert">
                <strong>Hi! </strong> {{message}}
                <button type="button" class="btn btn-close mdi mdi-close text-xxl" data-bs-dismiss="alert"
                    aria-label="Close"></button>
            </div>
            {% endfor %}

            <nav aria-label="breadcrumb">
                <!-- <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Tables</a></li>
            <li class="breadcrumb-item active" aria-current="page"> Basic tables </li>
          </ol> -->
            </nav>
        </div>
        <div class="row">
            <div class="col-lg-12 grid-margin stretch-card">
                <div class="card" style="height: 500px !important;overflow:scroll">
                    <div class="card-body">
                        <div class="item" style="position: sticky; top:10px;background-color:white">
                            <h4 class="card-title">Total Amount To Pay <span class="text-danger h3">&nbsp;&nbsp; ₹
                                    {{sub.Amount}} </span></h4>
                            <p class="card-description">
                                Discount on Fee: <span class="text-success h3">&nbsp;&nbsp; {{member.Discount}} %</span>
                                &nbsp; &nbsp;&nbsp; Amount To Pay After Discount: <span
                                    class="text-warning h3">&nbsp;&nbsp; ₹ {{discounted}} </span>
                            </p>
                        </div>



                        <form class="form-sample memberadd-form" method="post"
                            action="{%url 'PostNewPayment' member.id %}" enctype="multipart/form-data">
                            {% csrf_token %}
                            <p class="card-description">Add Payment</p>
                            <!-- <div class="row">
                              {% for field in form %}
                              <div class="col-md-6">
                                <div class="form-group row">
                                  <label class="col-sm-3 col-form-label">{{field.label}}:</label>
                                  <div class="col-sm-9">
                                    {{field}}
                                  </div>
                                </div>
                              </div>
                              {% endfor %}
        
                            </div> -->

                            <div class="row">

                                <div class="col-md-6">
                                    <div class="form-group row">
                                        <label class="col-sm-12 col-form-label">Payment Date:</label>
                                        <div class="col-sm-12">
                                            <input type="date" id="datef2" required class="form-control" name="date"
                                                placeholder="Payment date">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-6">
                                    <div class="form-group row">
                                        <label class="col-sm-12 col-form-label">Mode Of Payment</label>
                                        <div class="col-sm-12">
                                            <select name="mode" required class="form-control" id="">
                                                <option value="" disabled selected>--------------------</option>
                                                <option value="Bank Transfer">Bank Transfer</option>
                                                <option value="Card">Card</option>
                                                <option value="Cash">Cash</option>

                                            </select>
                                        </div>
                                    </div>
                                </div>

                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-12 col-form-label">Extend Subscription
                                                (Optional)</label>
                                            <div class="col-sm-12">
                                                <input type="date" id="datef" class="form-control" name="sub_extendate">
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary">Submit Payment</button>

                                    </div>

                                    <div class="col-md-6">
                                        <div class="form-group row">
                                            <label class="col-sm-12 col-form-label">Enter Custom Amount:
                                                (Optional)</label>
                                            <div class="col-sm-12">
                                                <input type="number" placeholder="Enter Custom Amount" class="form-control" name="Custome_amount">
                                            </div>
                                        </div>
                                        <!-- <button type="submit" class="btn btn-primary">Submit Payment</button> -->

                                    </div>

                              

                            </div>
                    </div>
                </div>
            </div>



        </div>
        </form>

    </div>
</div>
</div>

</div>

</div>

<footer class="footer">
    <div class="d-sm-flex justify-content-center justify-content-sm-between">
        <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright © Byteboot Techno Solutions Pvt Ltd
            </span>
                <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center"> Developed By <a
                        href="https://reddefend.ae/" target="_blank">Byteboot Techno Solutions Pvt Ltd</a></span>
    </div>
</footer>
</div>

<script>
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth() + 1; //January is 0!
    var yyyy = today.getFullYear();
    if (dd < 10) {
        dd = '0' + dd;
    }
    if (mm < 10) {
        mm = '0' + mm;
    }
    today = yyyy + '-' + mm + '-' + dd;
    document.getElementById("datef").setAttribute("min", today);
    document.getElementById("datef2").setAttribute("max", today);

</script>

{% endblock %}